<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PindoramaBank ‚Äî Private Banking</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --bg: #000000;
      --surface: #0d0d0d;
      --text: #ffffff;
      --text-secondary: #aaaaaa;
      --primary: #FFD700;
      --success: #4caf50;
      --danger: #f44336;
      --border: #222;
      --shadow: 0 8px 32px rgba(255, 215, 0, 0.2);
      --radius: 20px;
      --font: 'Segoe UI', system-ui, sans-serif;
    }
    body {
      font-family: var(--font);
      background-color: var(--bg);
      color: var(--text);
      line-height: 1.6;
      padding: 24px;
    }
    .container { max-width: 560px; margin: 0 auto; }

    /* Login */
    #login-screen {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 32px;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
    }
    #login-screen h2 {
      text-align: center;
      margin-bottom: 28px;
      font-size: 2.2rem;
      background: linear-gradient(90deg, #ffffff, var(--primary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .input-group { margin-bottom: 22px; }
    .input-group label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: var(--text-secondary);
      font-size: 0.95rem;
    }
    .input-group input {
      width: 100%;
      padding: 16px;
      border-radius: 14px;
      background: #151515;
      border: 1px solid var(--border);
      color: white;
      font-size: 1.05rem;
      caret-color: var(--primary);
    }
    .btn {
      width: 100%;
      padding: 16px;
      background: var(--primary);
      color: #000;
      border: none;
      border-radius: 14px;
      font-weight: 800;
      font-size: 1.15rem;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s;
      letter-spacing: -0.3px;
    }
    .btn:hover {
      transform: translateY(-2px);
    }
    #app { display: none; }

    /* Header */
    header {
      text-align: center;
      margin-bottom: 30px;
    }
    header h1 {
      font-size: 2.6rem;
      background: linear-gradient(90deg, var(--primary), #ffffff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-weight: 900;
    }
    .tagline {
      color: var(--text-secondary);
      font-size: 1.05rem;
      margin-top: 8px;
    }

    /* Saldo */
    .balance-card {
      background: linear-gradient(135deg, #0a0a0a, #111111);
      border: 1px solid #333;
      border-radius: var(--radius);
      padding: 30px;
      text-align: center;
      margin-bottom: 30px;
      position: relative;
      overflow: hidden;
    }
    .balance-card::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,215,0,0.1) 0%, transparent 70%);
      z-index: 0;
    }
    .balance-label {
      font-size: 1.1rem;
      color: var(--text-secondary);
      margin-bottom: 12px;
      position: relative;
      z-index: 1;
    }
    .balance {
      font-size: 2.8rem;
      font-weight: 900;
      color: var(--primary);
      letter-spacing: -0.5px;
      position: relative;
      z-index: 1;
    }
    .account-info {
      font-size: 0.95rem;
      color: var(--text-secondary);
      margin-top: 15px;
      position: relative;
      z-index: 1;
    }

    /* Grid */
    .action-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin-bottom: 30px;
    }
    .action-btn {
      background: #151515;
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 22px 10px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.25s;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .action-btn:hover {
      background: #1e1e1e;
      transform: translateY(-3px);
      box-shadow: 0 6px 16px rgba(255, 215, 0, 0.12);
    }
    .action-icon {
      font-size: 1.8rem;
      margin-bottom: 10px;
    }
    .action-label {
      font-weight: 700;
      font-size: 0.95rem;
    }

    /* Modal */
    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
      display: none;
    }
    .modal-content {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 30px;
      width: 90%;
      max-width: 480px;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
    }
    .modal h3 {
      color: var(--primary);
      margin-bottom: 20px;
      font-size: 1.5rem;
    }
    .modal input {
      width: 100%;
      padding: 15px;
      border-radius: 12px;
      background: #1a1a1a;
      border: 1px solid var(--border);
      color: white;
      font-size: 1.1rem;
      margin: 12px 0;
    }
    .modal-buttons {
      display: flex;
      gap: 12px;
      margin-top: 20px;
    }
    .modal-buttons button {
      flex: 1;
      padding: 14px;
      font-size: 1rem;
    }
    .cancel-btn {
      background: #252525 !important;
      color: var(--text) !important;
    }

    /* Spinner de Palmeira */
    .loading-spinner {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      display: none;
    }
    .spinner-palm {
      width: 48px;
      height: 48px;
      animation: spin 1.4s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .palm-svg {
      fill: var(--primary);
      stroke: none;
    }

    /* Hist√≥rico */
    .history-card {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 24px;
      margin-bottom: 28px;
      border: 1px solid var(--border);
    }
    .history-title {
      color: var(--primary);
      margin-bottom: 18px;
      font-size: 1.4rem;
      font-weight: 800;
    }
    .transaction {
      padding: 14px 0;
      border-bottom: 1px solid #252525;
      display: flex;
      justify-content: space-between;
    }
    .transaction:last-child {
      border: none;
    }
    .transaction-desc {
      font-size: 0.95rem;
      max-width: 70%;
    }
    .transaction-amount {
      font-weight: 800;
      white-space: nowrap;
    }
    .credit { color: var(--success); }
    .debit { color: var(--danger); }

    /* Notifica√ß√£o */
    .notification {
      position: fixed;
      top: 24px;
      right: 24px;
      background: var(--surface);
      color: white;
      padding: 16px 24px;
      border-radius: 14px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.5);
      border-left: 4px solid var(--primary);
      z-index: 1000;
      transform: translateX(200%);
      transition: transform 0.35s cubic-bezier(0.2, 0.8, 0.4, 1);
    }
    .notification.show {
      transform: translateX(0);
    }

    .logout-btn {
      background: #1e1e1e !important;
      color: var(--text) !important;
      border: 1px solid var(--border) !important;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Login -->
    <div id="login-screen">
      <h2>üè¶ PindoramaBank</h2>
      <div class="input-group">
        <label for="cpf">CPF do Titular</label>
        <input type="text" id="cpf" placeholder="000.111.222-33" />
      </div>
      <div class="input-group">
        <label for="password">Senha de Acesso</label>
        <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
      </div>
      <button class="btn" onclick="login()">Acessar Conta Privada</button>
    </div>

    <!-- App -->
    <div id="app">
      <header>
        <h1>PindoramaBank</h1>
        <p class="tagline">Private Banking ‚Ä¢ Conta Premium</p>
      </header>

      <div class="balance-card">
        <div class="balance-label">Saldo Consolidado</div>
        <div class="balance" id="balance">R$ 0,00</div>
        <div class="account-info">Conta Premium ‚Ä¢ Rendimento: 0,5% ao m√™s</div>
      </div>

      <div class="action-grid">
        <div class="action-btn" onclick="openModal('transfer')">
          <div class="action-icon">üì§</div>
          <div class="action-label">Transferir</div>
          <div class="loading-spinner" id="spinner-transfer">
            <svg class="spinner-palm" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <path d="M50,80 L50,50 C50,45 45,40 40,40 C35,40 30,45 30,50 L30,80 Z" class="palm-svg"/>
              <path d="M50,50 C60,40 70,30 80,20" class="palm-svg"/>
              <path d="M50,50 C50,30 50,10 50,0" class="palm-svg"/>
              <path d="M50,50 C40,40 30,30 20,20" class="palm-svg"/>
            </svg>
          </div>
        </div>
        <div class="action-btn" onclick="openModal('receive')">
          <div class="action-icon">üì•</div>
          <div class="action-label">Receber</div>
          <div class="loading-spinner" id="spinner-receive">
            <svg class="spinner-palm" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <path d="M50,80 L50,50 C50,45 45,40 40,40 C35,40 30,45 30,50 L30,80 Z" class="palm-svg"/>
              <path d="M50,50 C60,40 70,30 80,20" class="palm-svg"/>
              <path d="M50,50 C50,30 50,10 50,0" class="palm-svg"/>
              <path d="M50,50 C40,40 30,30 20,20" class="palm-svg"/>
            </svg>
          </div>
        </div>
        <div class="action-btn" onclick="openModal('invest')">
          <div class="action-icon">üìà</div>
          <div class="action-label">Investir</div>
          <div class="loading-spinner" id="spinner-invest">
            <svg class="spinner-palm" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <path d="M50,80 L50,50 C50,45 45,40 40,40 C35,40 30,45 30,50 L30,80 Z" class="palm-svg"/>
              <path d="M50,50 C60,40 70,30 80,20" class="palm-svg"/>
              <path d="M50,50 C50,30 50,10 50,0" class="palm-svg"/>
              <path d="M50,50 C40,40 30,30 20,20" class="palm-svg"/>
            </svg>
          </div>
        </div>
        <div class="action-btn" onclick="openModal('loan')">
          <div class="action-icon">üí∞</div>
          <div class="action-label">Cr√©dito</div>
          <div class="loading-spinner" id="spinner-loan">
            <svg class="spinner-palm" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <path d="M50,80 L50,50 C50,45 45,40 40,40 C35,40 30,45 30,50 L30,80 Z" class="palm-svg"/>
              <path d="M50,50 C60,40 70,30 80,20" class="palm-svg"/>
              <path d="M50,50 C50,30 50,10 50,0" class="palm-svg"/>
              <path d="M50,50 C40,40 30,30 20,20" class="palm-svg"/>
            </svg>
          </div>
        </div>
        <div class="action-btn" onclick="showCard()">
          <div class="action-icon">üí≥</div>
          <div class="action-label">Cart√£o</div>
          <div class="loading-spinner" id="spinner-card">
            <svg class="spinner-palm" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <path d="M50,80 L50,50 C50,45 45,40 40,40 C35,40 30,45 30,50 L30,80 Z" class="palm-svg"/>
              <path d="M50,50 C60,40 70,30 80,20" class="palm-svg"/>
              <path d="M50,50 C50,30 50,10 50,0" class="palm-svg"/>
              <path d="M50,50 C40,40 30,30 20,20" class="palm-svg"/>
            </svg>
          </div>
        </div>
        <div class="action-btn" onclick="showStatement()">
          <div class="action-icon">üìÑ</div>
          <div class="action-label">Extrato</div>
          <div class="loading-spinner" id="spinner-statement">
            <svg class="spinner-palm" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <path d="M50,80 L50,50 C50,45 45,40 40,40 C35,40 30,45 30,50 L30,80 Z" class="palm-svg"/>
              <path d="M50,50 C60,40 70,30 80,20" class="palm-svg"/>
              <path d="M50,50 C50,30 50,10 50,0" class="palm-svg"/>
              <path d="M50,50 C40,40 30,30 20,20" class="palm-svg"/>
            </svg>
          </div>
        </div>
      </div>

      <div class="history-card">
        <h3 class="history-title">√öltimas Movimenta√ß√µes</h3>
        <div id="transactions">Nenhuma transa√ß√£o recente</div>
      </div>

      <button class="btn logout-btn" onclick="logout()">Sair da Conta</button>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal">
    <div class="modal-content" id="modal-content"></div>
  </div>

  <div class="notification" id="notification"></div>

  <script>
    let currentUser = null;
    let balance = 5326753357.99; // R$ 5.326.753.357,99
    let transactions = JSON.parse(localStorage.getItem('pb_transactions')) || [];

    // Formatador de moeda BR
    function formatBRL(value) {
      return new Intl.NumberFormat('pt-BR', {
        style: 'currency',
        currency: 'BRL',
        minimumFractionDigits: 2
      }).format(value);
    }

    // Login
    function login() {
      const cpf = document.getElementById('cpf').value.trim();
      const pwd = document.getElementById('password').value;
      if (cpf && pwd.length >= 4) {
        currentUser = { cpf };
        localStorage.setItem('pb_user', JSON.stringify(currentUser));
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById('app').style.display = 'block';
        updateUI();
        notify('Bem-vindo ao PindoramaBank Private.');
      } else {
        notify('Por favor, insira CPF e senha v√°lidos.');
      }
    }

    function logout() {
      currentUser = null;
      localStorage.removeItem('pb_user');
      document.getElementById('login-screen').style.display = 'block';
      document.getElementById('app').style.display = 'none';
      document.getElementById('cpf').value = '';
      document.getElementById('password').value = '';
    }

    function updateUI() {
      document.getElementById('balance').textContent = formatBRL(balance);
      renderTransactions();
    }

    function renderTransactions() {
      const container = document.getElementById('transactions');
      if (transactions.length === 0) {
        container.textContent = 'Nenhuma transa√ß√£o recente';
        return;
      }
      container.innerHTML = transactions.slice(0, 6).map(t => `
        <div class="transaction">
          <div class="transaction-desc">${t.desc}</div>
          <div class="transaction-amount ${t.amount >= 0 ? 'credit' : 'debit'}">
            ${t.amount >= 0 ? '+' : ''}${formatBRL(Math.abs(t.amount))}
          </div>
        </div>
      `).join('');
    }

    function notify(msg) {
      const el = document.getElementById('notification');
      el.textContent = msg;
      el.className = 'notification show';
      setTimeout(() => el.classList.remove('show'), 3500);
    }

    // === MODAIS COM INTERA√á√ÉO REAL ===
    function openModal(type) {
      if (!currentUser) return;

      let title, prompt, placeholder, action;
      if (type === 'transfer') {
        title = 'Transfer√™ncia Banc√°ria';
        prompt = 'Valor a transferir (R$)';
        placeholder = 'Ex: 50000000.00';
        action = 'transfer';
      } else if (type === 'receive') {
        title = 'Recebimento de Valores';
        prompt = 'Valor a receber (R$)';
        placeholder = 'Ex: 100000000.00';
        action = 'receive';
      } else if (type === 'invest') {
        title = 'Aplica√ß√£o em Investimentos';
        prompt = 'Valor a investir (R$)';
        placeholder = 'Ex: 500000000.00';
        action = 'invest';
      } else if (type === 'loan') {
        title = 'Solicita√ß√£o de Cr√©dito';
        prompt = 'Valor do cr√©dito (R$)';
        placeholder = 'Ex: 1000000000.00';
        action = 'loan';
      }

      document.getElementById('modal-content').innerHTML = `
        <h3>${title}</h3>
        <div class="input-group">
          <label for="modal-amount">${prompt}</label>
          <input type="number" id="modal-amount" placeholder="${placeholder}" step="0.01" min="0.01" />
        </div>
        <div class="modal-buttons">
          <button class="btn" onclick="confirmAction('${action}')">Confirmar</button>
          <button class="btn cancel-btn" onclick="closeModal()">Cancelar</button>
        </div>
      `;
      document.getElementById('modal').style.display = 'flex';

      // Focar no campo
      setTimeout(() => {
        document.getElementById('modal-amount').focus();
      }, 100);
    }

    function closeModal() {
      document.getElementById('modal').style.display = 'none';
    }

    function confirmAction(action) {
      const amountStr = document.getElementById('modal-amount').value;
      const amount = parseFloat(amountStr);

      if (isNaN(amount) || amount <= 0) {
        notify('Por favor, insira um valor v√°lido.');
        return;
      }

      // Mostrar spinner
      const spinner = document.getElementById(`spinner-${action}`);
      if (spinner) spinner.style.display = 'flex';
      closeModal();

      // Processar a√ß√£o
      setTimeout(() => {
        if (spinner) spinner.style.display = 'none';

        if (action === 'transfer') {
          if (balance >= amount) {
            balance -= amount;
            transactions.unshift({ desc: 'Transfer√™ncia Efetuada', amount: -amount });
            notify(`Transfer√™ncia de ${formatBRL(amount)} conclu√≠da.`);
          } else {
            notify('Saldo insuficiente para esta opera√ß√£o.');
          }
        } 
        else if (action === 'receive') {
          balance += amount;
          transactions.unshift({ desc: 'Recebimento Efetuado', amount: amount });
          notify(`Recebido ${formatBRL(amount)}.`);
        } 
        else if (action === 'invest') {
          if (balance >= amount) {
            balance -= amount;
            transactions.unshift({ desc: 'Investimento Realizado', amount: -amount });
            notify(`Investimento de ${formatBRL(amount)} confirmado.`);
          } else {
            notify('Saldo insuficiente para aplica√ß√£o.');
          }
        } 
        else if (action === 'loan') {
          balance += amount;
          transactions.unshift({ desc: 'Cr√©dito Liberado', amount: amount });
          notify(`Cr√©dito de ${formatBRL(amount)} adicionado √† conta.`);
        }

        localStorage.setItem('pb_transactions', JSON.stringify(transactions));
        updateUI();
      }, 2000);
    }

    // Cart√£o e Extrato (sem modal)
    function showCard() {
      const spinner = document.getElementById('spinner-card');
      spinner.style.display = 'flex';
      setTimeout(() => {
        spinner.style.display = 'none';
        notify('Cart√£o Infinite: 5555 6666 7777 8888 ‚Ä¢ Limite: Ilimitado');
      }, 1500);
    }

    function showStatement() {
      const spinner = document.getElementById('spinner-statement');
      spinner.style.display = 'flex';
      setTimeout(() => {
        spinner.style.display = 'none';
        notify('Extrato detalhado enviado para seu e-mail institucional.');
      }, 1000);
    }

    // Inicializa
    document.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('pb_user');
      if (saved) {
        currentUser = JSON.parse(saved);
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById('app').style.display = 'block';
        updateUI();
      }
    });

    // Fechar modal com ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeModal();
      }
    });
  </script>
</body>
</html>
