<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PindoramaBank</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --bg: #000000;
      --surface: #111111;
      --text: #ffffff;
      --text-secondary: #b0b0b0;
      --primary: #FFD700;
      --border: #333;
      --shadow: 0 6px 24px rgba(255, 215, 0, 0.15);
      --radius: 16px;
      --font: 'Segoe UI', system-ui, sans-serif;
    }
    body {
      font-family: var(--font);
      background-color: var(--bg);
      color: var(--text);
      line-height: 1.6;
      padding: 20px;
    }
    .container { max-width: 520px; margin: 0 auto; }

    #login-screen, #app { padding: 30px; }
    #login-screen {
      background: var(--surface);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
    }
    #login-screen h2 {
      text-align: center;
      margin-bottom: 25px;
      color: var(--primary);
    }
    .input-group { margin-bottom: 20px; }
    .input-group label { display: block; margin-bottom: 8px; color: var(--text-secondary); }
    .input-group input {
      width: 100%;
      padding: 14px;
      border-radius: 12px;
      background: #1a1a1a;
      border: 1px solid var(--border);
      color: white;
    }
    .btn {
      width: 100%;
      padding: 14px;
      background: var(--primary);
      color: #000;
      border: none;
      border-radius: 12px;
      font-weight: 700;
      cursor: pointer;
      margin-top: 10px;
    }
    #app { display: none; }

    header {
      text-align: center;
      margin-bottom: 25px;
    }
    header h1 {
      font-size: 2.2rem;
      color: var(--primary);
    }

    .balance-card {
      background: var(--surface);
      padding: 20px;
      border-radius: var(--radius);
      text-align: center;
      margin-bottom: 25px;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
    }
    .balance { font-size: 2rem; font-weight: 800; margin: 10px 0; }

    .action-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
      margin-bottom: 25px;
    }
    .action-btn {
      background: #1a1a1a;
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 18px 8px;
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
      position: relative;
    }
    .action-btn:hover { transform: translateY(-2px); background: #252525; }
    .action-label { font-weight: 600; font-size: 0.9rem; margin-top: 6px; }

    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 100;
      display: none;
    }
    .modal-content {
      background: var(--surface);
      padding: 25px;
      border-radius: var(--radius);
      width: 90%;
      max-width: 400px;
      box-shadow: var(--shadow);
    }
    .modal h3 { margin-bottom: 20px; color: var(--primary); }
    .modal input, .modal button {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: #1a1a1a;
      color: white;
    }
    .modal button.btn { margin-top: 15px; }

    .loading-spinner {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      display: none;
    }
    .spinner-palm {
      width: 40px;
      height: 40px;
      animation: spin 1.2s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    .palm-svg { fill: var(--primary); stroke: none; }

    .transaction-list {
      background: var(--surface);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
    }
    .transaction {
      padding: 12px 0;
      border-bottom: 1px solid #333;
    }
    .transaction:last-child { border: none; }
    .credit { color: #4caf50; }
    .debit { color: #f44336; }

    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--surface);
      color: white;
      padding: 14px 20px;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.4);
      border-left: 4px solid var(--primary);
      z-index: 1000;
      transform: translateX(200%);
      transition: transform 0.3s ease-out;
    }
    .notification.show { transform: translateX(0); }
  </style>
</head>
<body>
  <div class="container">
    <!-- Login -->
    <div id="login-screen">
      <h2>üè¶ PindoramaBank</h2>
      <div class="input-group">
        <label for="cpf">CPF (11 d√≠gitos)</label>
        <input type="text" id="cpf" placeholder="00011122233" maxlength="11" />
      </div>
      <div class="input-group">
        <label for="password">Senha</label>
        <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
      </div>
      <button class="btn" onclick="login()">Entrar</button>
    </div>

    <!-- App -->
    <div id="app">
      <header>
        <h1>PindoramaBank</h1>
      </header>

      <div class="balance-card">
        <div>Saldo Dispon√≠vel</div>
        <div class="balance" id="balance">R$ 0,00</div>
      </div>

      <div class="action-grid">
        <div class="action-btn" onclick="openModal('transfer')">
          <div>üì§</div>
          <div class="action-label">Transferir</div>
          <div class="loading-spinner" id="spinner-transfer">
            <svg class="spinner-palm" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <path d="M50,80 L50,50 C50,45 45,40 40,40 C35,40 30,45 30,50 L30,80 Z" class="palm-svg"/>
              <path d="M50,50 C60,40 70,30 80,20" class="palm-svg"/>
              <path d="M50,50 C50,30 50,10 50,0" class="palm-svg"/>
              <path d="M50,50 C40,40 30,30 20,20" class="palm-svg"/>
            </svg>
          </div>
        </div>
        <div class="action-btn" onclick="openModal('receive')">
          <div>üì•</div>
          <div class="action-label">Receber</div>
          <div class="loading-spinner" id="spinner-receive">
            <svg class="spinner-palm" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <path d="M50,80 L50,50 C50,45 45,40 40,40 C35,40 30,45 30,50 L30,80 Z" class="palm-svg"/>
              <path d="M50,50 C60,40 70,30 80,20" class="palm-svg"/>
              <path d="M50,50 C50,30 50,10 50,0" class="palm-svg"/>
              <path d="M50,50 C40,40 30,30 20,20" class="palm-svg"/>
            </svg>
          </div>
        </div>
        <div class="action-btn" onclick="openModal('invest')">
          <div>üìà</div>
          <div class="action-label">Poupan√ßa</div>
          <div class="loading-spinner" id="spinner-invest">
            <svg class="spinner-palm" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <path d="M50,80 L50,50 C50,45 45,40 40,40 C35,40 30,45 30,50 L30,80 Z" class="palm-svg"/>
              <path d="M50,50 C60,40 70,30 80,20" class="palm-svg"/>
              <path d="M50,50 C50,30 50,10 50,0" class="palm-svg"/>
              <path d="M50,50 C40,40 30,30 20,20" class="palm-svg"/>
            </svg>
          </div>
        </div>
        <div class="action-btn" onclick="openModal('loan')">
          <div>üí∞</div>
          <div class="action-label">Empr√©stimo</div>
          <div class="loading-spinner" id="spinner-loan">
            <svg class="spinner-palm" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <path d="M50,80 L50,50 C50,45 45,40 40,40 C35,40 30,45 30,50 L30,80 Z" class="palm-svg"/>
              <path d="M50,50 C60,40 70,30 80,20" class="palm-svg"/>
              <path d="M50,50 C50,30 50,10 50,0" class="palm-svg"/>
              <path d="M50,50 C40,40 30,30 20,20" class="palm-svg"/>
            </svg>
          </div>
        </div>
        <div class="action-btn" onclick="showCard()">
          <div>üí≥</div>
          <div class="action-label">Cart√£o</div>
          <div class="loading-spinner" id="spinner-card">
            <svg class="spinner-palm" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <path d="M50,80 L50,50 C50,45 45,40 40,40 C35,40 30,45 30,50 L30,80 Z" class="palm-svg"/>
              <path d="M50,50 C60,40 70,30 80,20" class="palm-svg"/>
              <path d="M50,50 C50,30 50,10 50,0" class="palm-svg"/>
              <path d="M50,50 C40,40 30,30 20,20" class="palm-svg"/>
            </svg>
          </div>
        </div>
        <div class="action-btn" onclick="showStatement()">
          <div>üìÑ</div>
          <div class="action-label">Extrato</div>
          <div class="loading-spinner" id="spinner-statement">
            <svg class="spinner-palm" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <path d="M50,80 L50,50 C50,45 45,40 40,40 C35,40 30,45 30,50 L30,80 Z" class="palm-svg"/>
              <path d="M50,50 C60,40 70,30 80,20" class="palm-svg"/>
              <path d="M50,50 C50,30 50,10 50,0" class="palm-svg"/>
              <path d="M50,50 C40,40 30,30 20,20" class="palm-svg"/>
            </svg>
          </div>
        </div>
      </div>

      <div class="transaction-list">
        <h3 style="margin-bottom:15px; color:var(--primary);">√öltimas Transa√ß√µes</h3>
        <div id="transactions">Nenhuma transa√ß√£o ainda</div>
      </div>

      <button class="btn" style="background:#252525; margin-top:20px;" onclick="logout()">Sair</button>
    </div>
  </div>

  <!-- Modais -->
  <div class="modal" id="modal">
    <div class="modal-content" id="modal-content"></div>
  </div>

  <div class="notification" id="notification"></div>

  <script>
    let currentUser = null;
    const transactionsKey = 'pindorama_transactions';

    // === LOGIN ===
    function login() {
      const cpf = document.getElementById('cpf').value.replace(/\D/g, '');
      const password = document.getElementById('password').value;
      if (cpf.length !== 11 || password.length < 4) {
        notify('CPF (11 d√≠gitos) e senha (m√≠n. 4 caracteres) obrigat√≥rios.');
        return;
      }
      currentUser = { cpf, balance: 1850.90 };
      localStorage.setItem('pindorama_user', JSON.stringify(currentUser));
      showApp();
      loadTransactions();
      notify('Bem-vindo ao PindoramaBank!');
    }

    function showApp() {
      document.getElementById('login-screen').style.display = 'none';
      document.getElementById('app').style.display = 'block';
      document.getElementById('balance').textContent = `R$ ${currentUser.balance.toFixed(2).replace('.', ',')}`;
    }

    function logout() {
      currentUser = null;
      localStorage.removeItem('pindorama_user');
      localStorage.removeItem(transactionsKey);
      document.getElementById('app').style.display = 'none';
      document.getElementById('login-screen').style.display = 'block';
      document.getElementById('cpf').value = '';
      document.getElementById('password').value = '';
    }

    // === MODAIS ===
    function openModal(type) {
      if (!currentUser) return;
      let html = '';
      if (type === 'transfer') {
        html = `
          <h3>üì§ Transferir</h3>
          <input type="text" id="transfer-cpf" placeholder="CPF do destinat√°rio (11 d√≠gitos)" maxlength="11" />
          <input type="number" id="transfer-amount" placeholder="Valor (R$)" min="1" step="0.01" />
          <button class="btn" onclick="performAction('transfer')">Confirmar</button>
          <button class="btn" style="background:#252525;" onclick="closeModal()">Cancelar</button>
        `;
      } else if (type === 'receive') {
        html = `
          <h3>üì• Receber</h3>
          <p>Use seu CPF para receber:</p>
          <p style="font-size:1.2rem; font-weight:bold; color:var(--primary); margin:10px 0;">${formatCPF(currentUser.cpf)}</p>
          <button class="btn" style="background:#252525;" onclick="closeModal()">Fechar</button>
        `;
      } else if (type === 'invest') {
        html = `
          <h3>üìà Aplicar na Poupan√ßa</h3>
          <input type="number" id="invest-amount" placeholder="Valor (R$)" min="10" step="0.01" />
          <button class="btn" onclick="performAction('invest')">Aplicar</button>
          <button class="btn" style="background:#252525;" onclick="closeModal()">Cancelar</button>
        `;
      } else if (type === 'loan') {
        html = `
          <h3>üí∞ Solicitar Empr√©stimo</h3>
          <input type="number" id="loan-amount" placeholder="Valor (R$)" min="100" max="2500" step="0.01" />
          <p style="font-size:0.9rem; color:var(--text-secondary); margin:10px 0;">At√© R$ 2.500 ‚Ä¢ 3,5% ao m√™s</p>
          <button class="btn" onclick="performAction('loan')">Solicitar</button>
          <button class="btn" style="background:#252525;" onclick="closeModal()">Cancelar</button>
        `;
      }
      document.getElementById('modal-content').innerHTML = html;
      document.getElementById('modal').style.display = 'flex';
    }

    function closeModal() {
      document.getElementById('modal').style.display = 'none';
    }

    // === A√á√ïES ===
    function performAction(action) {
      const spinnerId = `spinner-${action === 'invest' ? 'invest' : action === 'loan' ? 'loan' : 'transfer'}`;
      const spinner = document.getElementById(spinnerId);
      if (spinner) spinner.style.display = 'flex';

      setTimeout(() => {
        if (spinner) spinner.style.display = 'none';
        closeModal();

        if (action === 'transfer') {
          const cpf = document.getElementById('transfer-cpf').value.replace(/\D/g, '');
          const amount = parseFloat(document.getElementById('transfer-amount').value);
          if (cpf.length !== 11 || isNaN(amount) || amount <= 0) {
            notify('Dados inv√°lidos.');
            return;
          }
          if (amount > currentUser.balance) {
            notify('Saldo insuficiente.');
            return;
          }
          currentUser.balance -= amount;
          saveUser();
          addTransaction(-amount, `Transfer√™ncia para ${formatCPF(cpf)}`);
          notify('Transfer√™ncia realizada!');
        } 
        else if (action === 'invest') {
          const amount = parseFloat(document.getElementById('invest-amount').value);
          if (isNaN(amount) || amount < 10) {
            notify('M√≠nimo: R$ 10.');
            return;
          }
          if (amount > currentUser.balance) {
            notify('Saldo insuficiente.');
            return;
          }
          currentUser.balance -= amount;
          saveUser();
          addTransaction(-amount, 'Aplica√ß√£o na Poupan√ßa');
          notify('Investimento realizado!');
        } 
        else if (action === 'loan') {
          const amount = parseFloat(document.getElementById('loan-amount').value);
          if (isNaN(amount) || amount < 100 || amount > 2500) {
            notify('Valor entre R$ 100 e R$ 2.500.');
            return;
          }
          currentUser.balance += amount;
          saveUser();
          addTransaction(amount, 'Empr√©stimo Pessoal');
          notify('Empr√©stimo creditado!');
        }
      }, 2000);
    }

    function showCard() {
      const spinner = document.getElementById('spinner-card');
      spinner.style.display = 'flex';
      setTimeout(() => {
        spinner.style.display = 'none';
        notify('Cart√£o: 5555 6666 7777 8888 ‚Ä¢ CVV: 123');
      }, 1500);
    }

    function showStatement() {
      const spinner = document.getElementById('spinner-statement');
      spinner.style.display = 'flex';
      setTimeout(() => {
        spinner.style.display = 'none';
        notify('Extrato completo no app mobile.');
      }, 1000);
    }

    // === UTILIT√ÅRIOS ===
    function saveUser() {
      localStorage.setItem('pindorama_user', JSON.stringify(currentUser));
      document.getElementById('balance').textContent = `R$ ${currentUser.balance.toFixed(2).replace('.', ',')}`;
    }

    function addTransaction(amount, desc) {
      const list = JSON.parse(localStorage.getItem(transactionsKey) || '[]');
      list.unshift({ amount, desc, date: new Date().toLocaleString('pt-BR') });
      localStorage.setItem(transactionsKey, JSON.stringify(list));
      loadTransactions();
    }

    function loadTransactions() {
      const list = JSON.parse(localStorage.getItem(transactionsKey) || '[]');
      const container = document.getElementById('transactions');
      if (list.length === 0) {
        container.innerHTML = 'Nenhuma transa√ß√£o ainda';
        return;
      }
      container.innerHTML = list.slice(0, 5).map(t => `
        <div class="transaction">
          <div>${t.desc} <small>(${t.date})</small></div>
          <div class="${t.amount >= 0 ? 'credit' : 'debit'}">
            ${t.amount >= 0 ? '+' : ''} R$ ${Math.abs(t.amount).toFixed(2).replace('.', ',')}
          </div>
        </div>
      `).join('');
    }

    function formatCPF(cpf) {
      return cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4');
    }

    function notify(message) {
      const notif = document.getElementById('notification');
      notif.textContent = message;
      notif.className = 'notification show';
      setTimeout(() => notif.classList.remove('show'), 3000);
    }

    // Iniciar
    document.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('pindorama_user');
      if (saved) {
        currentUser = JSON.parse(saved);
        showApp();
        loadTransactions();
      }
    });
  </script>
</body>
</html>
